<div class="content-wrapper container-xxl p-0">
    <div class="content-body">
        <app-content-header [contentHeader]="contentHeader"></app-content-header>
        <section id="ngx-datatable-kitchen-sink">
            <core-card-snippet [snippetCode]="_snippetCodeKitchenSink">
                <h4 class="card-title"> {{ 'HEADER.LIST' | translate }}</h4>
                <div class="row" id="basic-table">
                    <div class="col-12 mb-50">
                        <button routerLink="/products/add" class="btn btn-primary ml-1" rippleEffect  [hidden]="haveAdmin()">
                            <i data-feather="plus" class="mr-0 mr-sm-1"></i
                            ><span class="d-none d-sm-inline-block">新增物品</span>
                        </button>
                        <!--                    <a csvLink [data]="exportCSVData" class="btn btn-outline-secondary float-right mr-1" rippleEffect-->
                        <!--                    >Export CSV</a-->
                        <!--                    >-->
                    </div>
                    <div class="col-md-6 col-12">
                        <div class="d-flex justify-content-between align-items-center m-1">
                            <label class="d-flex align-items-center"
                            ><div style="width: 60px">顯示</div>
                                <select class="form-control mx-25" [(ngModel)]="selectedOption">
                                    <option value="10">10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select>
                                <div style="width: 60px">筆</div>
                                </label
                            >
                        </div>
                    </div>
                    <div class="col-md-6 col-12 d-flex justify-content-md-end">
                        <div class="d-flex align-items-center justify-content-end pr-1 pb-1 pl-1 pl-md-0 pb-md-0">
                            <label class="d-flex align-items-center"
                            >搜尋物品名稱<input
                                    type="search"
                                    placeholder="Search"
                                    class="form-control ml-25"
                                    (keyup)="filterByProductName($event)"
                            /></label>
                        </div>
                    </div>

                </div>
                <ngx-datatable
                        [rows]="rows"
                        [rowHeight]="58"
                        class="bootstrap core-bootstrap"
                        [limit]="selectedOption"
                        [columnMode]="ColumnMode.force"
                        [headerHeight]="50"
                        [footerHeight]="50"
                        [scrollbarH]="true"
                >
                    <ngx-datatable-column name="#" prop="productId" [width]="50">
                        <ng-template let-productId="value" ngx-datatable-cell-template>
                            <a routerLink="edit/{{ productId }}" class="font-weight-bold" [class.isDisabled]="haveAdmin()">#{{ productId }}</a>
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column name="等級" prop="level" [width]="50">
                        <ng-template let-level="value" ngx-datatable-cell-template>
                            <div
                                    class="badge badge-pill"
                                    [ngClass]="{
                  'badge-light-secondary': level == '一般',
                  'badge-light-success': level == '高級',
                  'badge-light-info': level == '稀有',
                  'badge-light-danger': level == '英雄',
                  'badge-light-primary': level == '傳說'
                }"
                            >
                                {{ level }}
                            </div>
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column name="{{ 'HEADER.NAME' | translate }}" prop="name" [width]="160"></ngx-datatable-column>
                    <ngx-datatable-column name="價格" prop="price" [width]="160"></ngx-datatable-column>
                    <ngx-datatable-column  name="操作" [width]="30" [sortable]="false">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <div class="d-flex align-items-center">
                                <a routerLink="edit/{{row.productId}}" ngbDropdownItem class="d-flex align-items-center" [hidden]="haveAdmin()"
                                ><i data-feather="edit" class="text-primary cursor-pointer"></i></a>
                            </div>
                        </ng-template>
                    </ngx-datatable-column>
                </ngx-datatable>
            </core-card-snippet>
        </section>
    </div>
</div>
